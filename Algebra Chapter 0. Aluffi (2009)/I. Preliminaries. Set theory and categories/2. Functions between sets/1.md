---
tags:
  - exercise
  - math/set_theory
related topics:
  - "[[Injectivity and surjectivity|Bijection]]"
---
How many different bijections are there between a set $S$ with $n$ elements and itself?
##### Solution:
By induction lets prove that there are $n!$ bijections from $ ZZ/n$ to itself.
- $P(1)$:
	There is only $1$ function from $\{1\}$ to $\{1\}$, namely the identity function which is a bijection trivially. As $1=1!$, $P(1)$ holds.
- $P(n) ==> P(n+1)$:
	Let $f: ZZ/n arrow.r.tilde ZZ/n$ be a bijection and$$
	
		f_k: ZZ/(n+1) & arrow.r.tilde ZZ/(n+1)\
		s & |-> 
		\begin{cases}
			f(k) &\text{if $s=n+1$}\
			n+1 &\text{if $s=k$}\
			f(s) &\text{otherwise}
		\end{cases}
	
	$$
	for $k in ZZ/n$.
	- $f_k$ is injective:
		Let $s_1, s_2 in ZZ/(n+1)$ such that $f_k(s_1)=f_k(s_2)$
		- Case $f(k)=f_k(s_1)=f_k(s_2)$:
			As $f_k$ maps $k$ to $n+1$, it must be the case that $s_1=s_2=n+1$.
		- Case $n+1=f_k(s_1)=f_k(s_2)$:
			$s_1=s_2=k$.
		- Case $f(s_1)=f_k(s_1)=f_k(s_2)=f(s_2)$:
			Then $f(s_1)=f(s_2)$ so $s_1=s_2$.
		So $f_k(s_1)=f_k(s_2) ==> s_1=s_2$.
	- $f_k$ is surjective:
		Let $m in ZZ/(n+1)$
		- Case $m in ZZ/n$:
			If $m= f(k)$ then $f_k(n+1)=m$. If $m != k$ then $f_k(s)=f(s)=m$ for some $s in ZZ/n$.
		- Case $m=n+1$:
			$f_k(k)=n+1$.
		So $ Im f_k= ZZ/(n+1)$.
	So $f_k$ is a bijection.
	- Every bijection $f: ZZ/(n+1) arrow.r.tilde ZZ/(n+1)$ equals $g_k$ for some $g: ZZ/n arrow.r.tilde ZZ/n$:
		Let $f: ZZ/(n+1) arrow.r.tilde ZZ/(n+1)$ be a bijection, if $f(n+1)=n+1$ then $f=f'_{n+1}$ where $f'$ is $f$ restricted to $ ZZ/n$. If $f(n+1) != n+1$ then let$$
		
			g: ZZ/n& arrow.r.tilde ZZ/n\
			s& |-> 
			\begin{cases}
				f(n+1) &\text{if $s=f^{-1}(n+1)$}\
				f(s) &\text{otherwise}
			\end{cases}
		
		$$
		then $f=g_{f^{-1}(n+1)}$.
	So every bijection is some $f_k$.
	- For different bijections $f, g: ZZ/n arrow.r.tilde ZZ/n$, $f_k != g_q$:
		Let $f,g: ZZ/n arrow.r.tilde ZZ/n$ with $f != g$, then for some $s in ZZ/n$ $f(s) != g(s)$.
		- Case $k != q$:
			If $k != q$ then $f_k(q)=f(q) != n+1 = g_q(q)$, so $f_k != g_q$.
		- Case $k=q$:
			$f_k(n+1)=f(k) != g(k)=g_k(n+1)$ so $f_k != g_k$.
	So no $f_k$ is repeated.
	- From any $f: ZZ/n arrow.r.tilde ZZ/n$ there are $n+1$ different $f_k: ZZ/(n+1) arrow.r.tilde ZZ/(n+1)$:
		Given the above definition $k$ can vary from $1$ to $n$, and there is an additional bijection$$
		
			f_{n+1}: ZZ/(n+1) & arrow.r.tilde ZZ/(n+1)\
			s & |-> 
			\begin{cases}
				n+1 &\text{if $s=n+1$}\
				f(s) &\text{otherwise}
			\end{cases}
		
		$$
		for a total of $n+1$ bijections.
	So there are $n+1$ possible $f_k$ for each $f$.
	By induction there are $n!$ bijections from $ ZZ/n$ to itself, so there are $n!(n+1)=(n+1)!$ bijections from $ ZZ/(n+1)$ to itself.
This concludes the proof by induction. As any set with the same finite cardinality is isomorphic to each other then there are also $n!$ bijections from $S$ to itself if $|S|=n$.